{% extends "base/base.html" %}
{% load staticfiles %}

{% block extracss %}
<style>
  * {
    font-family: sans-serif;
    font-weight: 100;
    font-size: 20px;
  }

  a{
    text-decoration: none !important;
  }

  .bd-placeholder-img {
    font-size: 1.125rem;
    text-anchor: middle;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  @media (min-width: 768px) {
    .bd-placeholder-img-lg {
      font-size: 3.5rem;
    }
  }
  .img_content {
    margin: 10px;
    
    line-height: 115px;
    text-align: center;
    
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;

}

.resaltar:hover{
  border-bottom: 3px solid rgba(3, 250, 36, 0.904);
  transition: border-color 1s ease;
  
}

</style>
{% endblock extracss %}

{% block content%}

<div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 bg-light">
  <div class="mt-3 ml-3 mr-3" id="contento">
    <h1 class="text-center">Feria del Bienestar</h1>
    <div>
      <p class="text-center">
        <h3>Datos Generales</h3>
      </p>
      
     
      Nombre: {{solicitud.nombre}} {{solicitud.appaterno}} {{solicitud.materno}} <br>
      CURP: {{solicitud.curp}} <br>
      Discapacidad: {{solicitud.discapacidad}} <br>
      Estado Civil: {{solicitud.estcivil}} <br>
      Domicilio: {{solicitud.domicilio}} <br>
      Telefono: {{solicitud.telefono}} <br>
      Correo: {{solicitud.correo}} <br>
    </div>
    {% for servicio in servicios %}
    <div class="container mt-5" style="border: solid 2px black;">
      
      <div class="row">
        <div class="col-md-8">
          <h3>Servicio 1</h3>
          <p>Direcci√≥n: {{servicio.direccion}}</p>
          <p>Servicio: {{servicio.nombre}} </p>
        </div>
      </div>
    </div>
    {% endfor %}
</div>
<button id="btn_pdf" type="button" class="btn btn-primary mt-5">Imprimir <i class="fas fa-file-download"></i></button>
<div id="carga">

</div>

</div>

{% endblock content %}
{% block extrascripts %}
<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/printThis/1.15.0/printThis.js" integrity="sha256-c30AriwlYd8As+X/SAMm9dKVZ0OSS6V/Ub/krEBQyMk=" crossorigin="anonymous"></script>
    <script>
      
      $(document).ready(function () {
        tel_mostrar = true
        email_mostrar = true

        $(".telefonos").hide()
        $(".correos").hide()

        $(".whatsapp").click(function() {
          if (tel_mostrar==true){
            $(".telefonos").show()
            tel_mostrar=false
          }else{
            $(".telefonos").hide()
            tel_mostrar=true
          }
          });

       
       
        $(".email").click(function() {
          if (email_mostrar==true){
            $(".correos").show()
            email_mostrar=false
          }else{
            $(".correos").hide()
            email_mostrar=true
          }
          });
        })
      
        $('#btn_pdf').click((event)=>{
            
          $.when( effect() ).done(function() {
              $("#btn_pdf").prop('disabled',false)
             
          });


      });

         
      var effect = function() {
        $("#btn_pdf").prop('disabled',true)
        $("#contento").printThis({
        debug: false,               // show the iframe for debugging
        importCSS: true,            // import parent page css
        importStyle: true,         // import style tags
        printContainer: true,       // print outer container/$.selector
        loadCSS: "https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",                // path to additional css file - use an array [] for multiple
        pageTitle: "",              // add title to print page
        removeInline: false,        // remove inline styles from print elements
        removeInlineSelector: "*",  // custom selectors to filter inline styles. removeInline must be true
        printDelay: 333,            // variable print delay
        header: null,               // prefix to html
        footer: false,               // postfix to html
        base: false,                // preserve the BASE tag or accept a string for the URL
        formValues: false,           // preserve input/form values
        canvas: false,              // copy canvas content
        doctypeString: '...',       // enter a different doctype for older markup
        removeScripts: false,       // remove script tags from print content
        copyTagClasses: false,      // copy classes from the html & body tag
        beforePrintEvent: $('#contento').show(),     // function for printEvent in iframe
        beforePrint: null,          // function called before iframe is filled
        afterPrint: null            // function called before iframe is removed
    });

    return $( "#carga" ).fadeIn( 1000 ).delay( 1200 ).fadeOut();

};

        
    </script>
{% endblock %}
